### 1. Getting a Git Repository

Typically obtain a Git repository in one of two ways:
1. You can take a local directory that is currently not under version control, and turn it into a Git repository
2. You can clone an existing Git repository from elsewhere.

#### 1.1 Initializing a Repository in an Existing Directory
First need to go to that project’s directory and type
    
    $ git init

If you want to start version-controlling existing files (as opposed to an empty directory), you should probably begin tracking those files and do an initial commit. You can accomplish that with a few git add commands that specify the files you want to track followed by a git commit:

    $ git add *.c
    $ git add LICENSE
    $ git commit -m 'Initial project version'

#### 1.2 Cloning an Existing Repository

You clone a repository with git clone <url>. For example, if you want to clone the Git linkable
library called demogit, you can do so like this(gitpro is github username):

    $ git clone https://github.com/gitpro/demogit

If you want to clone the repository into a directory named something other than demogit, you can
specify the new directory name as an additional argument:

    $ git clone https://github.com/gitpro/demogit mygit

That command does the same thing as the previous one, but the target directory is called mygit.

### 2. Recording Changes to the Repository

#### 2.1 Checking the Status of Your Files
command is:

    $ git status

#### 2.2 Tracking New Files
In order to begin tracking a new file, you use the command git add. To begin tracking the README file, you can run this:

    $ git add README

#### 2.3 Staging Modified Files

Let’s change a file that was already tracked. If you change a previously tracked file called `CONTRIBUTING.md` and then run your git status command again, you get something that looks like this:
```
$ git status
On branch master
Your branch is up-to-date with 'origin/master'.
Changes to be committed:
(use "git reset HEAD <file>..." to unstage)
new file: README
Changes not staged for commit:
(use "git add <file>..." to update what will be committed)
(use "git checkout -- <file>..." to discard changes in working directory)
modified: CONTRIBUTING.md
```

Let’s run git add now to stage the `CONTRIBUTING.md` file, and then run git status again:
```
$ git add CONTRIBUTING.md
$ git status
On branch master
Your branch is up-to-date with 'origin/master'.
Changes to be committed:
(use "git reset HEAD <file>..." to unstage)
new file: README
modified: CONTRIBUTING.md
```

#### 2.4 Short Status

If you run git status -s or git status --short you get a far more simplified output from the command:
```
$ git status -s
M README
MM Rakefile
A lib/git.rb
M lib/simplegit.rb
?? LICENSE.txt
```
#### 2.5 Ignoring Files
Here is example .gitignore file:
```
# ignore all .a files
*.a
# but do track lib.a, even though you're ignoring .a files above
!lib.a
# only ignore the TODO file in the current directory, not subdir/TODO
/TODO
# ignore all files in any directory named build
build/
# ignore doc/notes.txt, but not doc/server/arch.txt
doc/*.txt
# ignore all .pdf files in the doc/ directory and any of its subdirectories
doc/**/*.pdf
```
#### 2.6 Viewing Your Staged and Unstaged Changes

To see what you’ve changed but not yet staged, type git diff with no other arguments:

    $ git diff

If you want to see what you’ve staged that will go into your next commit, you can use git diff --staged.

    $ git diff --staged

#### 2.7 Commit your changes
The simplest way to commit is to type git commit:

    git commit

Alternatively, you can type your commit message inline with the commit command by specifying it after a -m flag, like this:

    $ git commit -m "fix numbering issues"

#### 2.8 Removing Files

This is particularly useful if you forgot to add something to your .gitignore file and accidentally staged it, like a large log file or a bunch of .a compiled files. To do this, use the --cached option:

    $ git rm --cached README

You can pass files, directories, and file-glob patterns to the git rm command. That means you can do
things such as:

    $ git rm log/\*.log

Note the backslash (\) in front of the *. This is necessary because Git does its own filename
expansion in addition to your shell’s filename expansion. This command removes all files that have
the .log extension in the log/ directory. Or, you can do something like this:

    $ git rm \*~

This command removes all files whose names end with a ~.

#### 2.9 Moving Files
If you want to rename a file in Git, you can run something like:

    $ git mv file_from file_to

However, this is equivalent to running something like this:

    $ mv README.md README
    $ git rm README.md
    $ git add README

### 3. Viewing the Commit History
#### 3.1. Basic, Common Option, Specifier
The most basic and powerful tool to do this is the git log command.

    $ git log

if you want to see some abbreviated stats for each commit, you can use the --stat option:

    $ git log --stat

Another really useful option is --pretty.
This option changes the log output to formats other than the default. A few prebuilt option values are available for you to use.
The most interesting option value is format, which allows you to specify your own log output format.

    $ git log --pretty=format:"%h - %an, %ar : %s"

Useful specifiers for git log --pretty=format lists some of the more useful specifiers that format takes.

_Table 1. Useful specifiers for git log --pretty=format_
| Specifier | Description of Output |
| :--- | :--- |
| %H | Commit hash |
| %h | Abbreviated commit hash |
| %T | Tree hash |
| %t | Abbreviated tree hash |
| %P | Parent hashes |
| %p | Abbreviated parent hashes |
| %an | Author name |
| %ae | Author email |
| %ad | Author date (format respects the --date=option) |
| %ar | Author date, relative |
| %cn | Committer name |
| %ce | Committer email |
| %cd | Committer date |
| %cr | Committer date, relative |
| %s | Subject |

Those are only some simple output-formatting options to git log — there are many more. Common options to git log lists the options we’ve covered so far, as well as some other common formatting options that may be useful, along with how they change the output of the log command.

_Table 2. Common options to git log_
| Option | Description |
| :--- | :--- |
| -p | Show the patch introduced with each commit. |
| --stat | Show statistics for files modified in each commit. |
| --shortstat | Display only the changed/insertions/deletions line from the --stat command. |
| --name-only | Show the list of files modified after the commit information. |
| --name-status | Show the list of files affected with added/modified/deleted information as well. |
| --abbrev-commit | Show only the first few characters of the SHA-1 checksum instead of all 40. |
| --relative-date | Display the date in a relative format (for example, “2 weeks ago”) instead of using the full date format. |
| --graph | Display an ASCII graph of the branch and merge history beside the log output. |
| --pretty | Show commits in an alternate format. Option values include oneline, short, full, fuller, and format (where you specify your own format). |
| --oneline | Shorthand for --pretty=oneline --abbrev-commit used together. |

#### 3.2 Limiting Log Output

    $ git log --since=2.weeks

_Table 3. Options to limit the output of git log_
| Option | Description |
| :--- | :--- |
| -\<n> | Show only the last n commits. |
| --since, --after | Limit the commits to those made after the specified date. |
| --until, --before | Limit the commits to those made before the specified date. |
| --author | Only show commits in which the author entry matches the specified string. |
| --committer | Only show commits in which the committer entry matches the specified string. |
| --grep | Only show commits with a commit message containing the string. |
| -S | Only show commits adding or removing code matching the string. |


### 4. Undoing Things

If you want to redo that commit, make the additional changes you forgot, stage them, and commit again using the --amend option:

    $ git commit --amend

#### 4.1 Unstaging a Staged File

use git reset HEAD \<file>… to unstage.

    $ git reset HEAD CONTRIBUTING.md

#### 4.2 Unmodifying a Modified File

    git checkout -- <file>

It’s important to understand that git checkout -- <file> is a dangerous command. Any local changes you made to that file are gone — Git just replaced that file with the last staged or committed version. Don’t ever use this command unless you absolutely know that you don’t want those unsaved local changes.

#### 4.3 Undoing things with git restore

Git version 2.23.0 introduced a new command: git restore. It’s basically an alternative to git reset which we just covered. From Git version 2.23.0 onwards, Git will use git restore instead of git reset for many undo operations.

##### 4.3.1 Unstaging a Staged File with git restore

Right below the “Changes to be committed” text, it says use git restore --staged \<file>… to unstage.

    $ git restore --staged CONTRIBUTING.md

##### 4.3.2 Unmodifying a Modified File with git restore

    $ git restore CONTRIBUTING.md

It’s important to understand that git restore <file> is a dangerous command. Any local changes you made to that file are gone — Git just replaced that file with the last staged or committed version. Don’t ever use this command unless you absolutely know that you don’t want those unsaved local changes.

### 5. Working with Remotes
#### 5.1 Showing Your Remotes
To see which remote servers you have configured, you can run the git remote command.

    $ git remote

You can also specify -v, which shows you the URLs that Git has stored for the shortname to be used when reading and writing to that remote:

    $ git remote -v

#### 5.2 Adding Remote Repositories
To add a new remote Git repository as a shortname you can reference easily, run git remote add \<shortname> \<url>:

    git remote add pro https://github.com/prodev/sampletask
    $ git remote -v
    origin https://github.com/prodev/sampletask (fetch)
    origin https://github.com/prodev/sampletask (push)
    pro https://github.com/prodev/sampletask (fetch)
    pro https://github.com/prodev/sampletask (push)

Now you can use the string pro on the command line instead of the whole URL.
For example, if you want to fetch all the information that Pro has but that you don’t yet have in your repository, you can run git fetch pro:

    $ git fetch pro

#### 5.3 Fetching and Pulling from Your Remotes
To get data from your remote projects, you can run:

    $ git fetch <remote>

If your current branch is set up to track a remote branch, you can use the git pull command to automatically fetch and then merge that remote branch into your current branch.

    $ git pull

#### 5.4 Pushing to Your Remotes

When you have your project at a point that you want to share, you have to push it upstream. The command for this is simple: git push \<remote> \<branch>.

    $ git push origin master

#### 5.5 Inspecting a Remote

If you want to see more information about a particular remote, you can use the git remote show \<remote> command.

    $ git remote show origin

#### 5.6 Renaming and Removing Remotes

You can run git remote rename to change a remote’s shortname. For instance, if you want to rename pro to dev, you can do so with git remote rename:

    $ git remote rename pro dev

You can either use git remote remove or git remote rm:

    $ git remote remove dev
